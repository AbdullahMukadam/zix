@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --background: 0 0% 100%;
    --foreground: 222.2 84% 4.9%;

    --card: 0 0% 100%;
    --card-foreground: 222.2 84% 4.9%;

    --popover: 0 0% 100%;
    --popover-foreground: 222.2 84% 4.9%;

    --primary: 222.2 47.4% 11.2%;
    --primary-foreground: 210 40% 98%;

    --secondary: 210 40% 96.1%;
    --secondary-foreground: 222.2 47.4% 11.2%;

    --muted: 210 40% 96.1%;
    --muted-foreground: 215.4 16.3% 46.9%;

    --accent: 210 40% 96.1%;
    --accent-foreground: 222.2 47.4% 11.2%;

    --destructive: 0 84.2% 60.2%;
    --destructive-foreground: 210 40% 98%;

    --border: 214.3 31.8% 91.4%;
    --input: 214.3 31.8% 91.4%;
    --ring: 222.2 84% 4.9%;

    --radius: 0.5rem;
  }

  .dark {
    --background: 222.2 84% 4.9%;
    --foreground: 210 40% 98%;

    --card: 222.2 84% 4.9%;
    --card-foreground: 210 40% 98%;

    --popover: 222.2 84% 4.9%;
    --popover-foreground: 210 40% 98%;

    --primary: 210 40% 98%;
    --primary-foreground: 222.2 47.4% 11.2%;

    --secondary: 217.2 32.6% 17.5%;
    --secondary-foreground: 210 40% 98%;

    --muted: 217.2 32.6% 17.5%;
    --muted-foreground: 215 20.2% 65.1%;

    --accent: 217.2 32.6% 17.5%;
    --accent-foreground: 210 40% 98%;

    --destructive: 0 62.8% 30.6%;
    --destructive-foreground: 210 40% 98%;

    --border: 217.2 32.6% 17.5%;
    --input: 217.2 32.6% 17.5%;
    --ring: 212.7 26.8% 83.9%;
  }
}

@layer base {
  * {
    @apply border-border;
  }
  body {
    @apply bg-background text-foreground;
  }
}

@layer base {
  body {
    /* Merged with shadcn body rule, but keeping specific util classes if needed */
    @apply font-mono overflow-x-hidden selection:bg-util-accent selection:text-black;
    /* Overriding bg-background if util-black is preferred for the portfolio builder specifically */
    @apply bg-util-black text-util-gray;
  }
}

/* Custom Scrollbar */
::-webkit-scrollbar {
    width: 8px;
}
::-webkit-scrollbar-track {
    background: #0a0a0a; 
    border-left: 1px solid #333;
}
::-webkit-scrollbar-thumb {
    background: #333; 
}
::-webkit-scrollbar-thumb:hover {
    background: #ff3300; 
}

@layer utilities {
    .bg-grid-pattern {
        background-size: 40px 40px;
        background-image: linear-gradient(to right, #202020 1px, transparent 1px),
                          linear-gradient(to bottom, #202020 1px, transparent 1px);
        mask-image: radial-gradient(ellipse at center, black 40%, transparent 80%);
    }
    
    .bg-dither {
        background-image: radial-gradient(#333 1px, transparent 1px);
        background-size: 4px 4px;
        backdrop-filter: contrast(120%);
    }

    .dither-overlay {
        background-image: url("data:image/svg+xml,%3Csvg width='4' height='4' viewBox='0 0 4 4' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M0 0H2V2H0V0Z' fill='%23333333' fill-opacity='0.4'/%3E%3Cpath d='M2 2H4V4H2V2Z' fill='%23333333' fill-opacity='0.4'/%3E%3C/svg%3E");
        background-size: 4px 4px;
        image-rendering: pixelated;
    }

    .grid-overlay {
        background-size: 40px 40px;
        background-image:
            linear-gradient(to right, #333333 1px, transparent 1px),
            linear-gradient(to bottom, #333333 1px, transparent 1px);
        z-index: 0;
        opacity: 0.05; /* Reduced from default opacity */
    }


    .line-clamp-2 {
        display: -webkit-box;
        -webkit-line-clamp: 2;
        -webkit-box-orient: vertical;
        overflow: hidden;
    }
}

/* Animations */
@keyframes marquee {
    0% { transform: translateX(0); }
    100% { transform: translateX(-50%); }
}

@keyframes spin-slow {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
}

@keyframes reverse-spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(-360deg); }
}

.animate-reverse-spin {
    animation: reverse-spin 8s linear infinite;
}

/* SVG Line Animations */
@keyframes scan {
    0% { transform: translateY(-100%); }
    100% { transform: translateY(100%); }
}

.scan-line {
    animation: scan 4s linear infinite;
}

.text-util-accent {
    text-shadow: 0 0 5px rgba(255, 51, 0, 0.5);
}
